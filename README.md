# Green Candle Token (GCT) Backend | ÿ®⁄©‚ÄåÿßŸÜÿØ ÿ™Ÿà⁄©ŸÜ ⁄Øÿ±€åŸÜ ⁄©ŸÜÿØŸÑ

[üá∫üá∏ English](#english) | [üáÆüá∑ ŸÅÿßÿ±ÿ≥€å](#persian)

---

## English

A secure and scalable backend API for the Green Candle Token platform, built with Express.js and MongoDB. This backend supports token claim management, Merkle tree distribution, admin panel, and BSC blockchain integration.

## üöÄ Features

### Core Features
- **Secure User Authentication** - Wallet-based authentication with signature verification
- **Admin Management System** - Role-based access control with 2FA support
- **Token Claim System** - Self-claim and admin-claim functionality
- **Merkle Tree Distribution** - Efficient token distribution with cryptographic proofs
- **Blockchain Integration** - BSC network integration for smart contract interaction
- **Rate Limiting** - Protection against abuse and DDoS attacks
- **Comprehensive Logging** - Security and audit trail logging
- **Input Validation** - XSS and injection attack prevention

### Security Features
- JWT-based authentication
- Rate limiting and throttling
- CORS protection
- Helmet security headers
- Input sanitization and validation
- Session management
- Two-factor authentication for admins
- Secure password hashing
- IP tracking and monitoring

### API Endpoints
- **Authentication** - `/api/v1/auth/*`
- **User Management** - `/api/v1/user/*`
- **Admin Panel** - `/api/v1/admin/*`
- **Claim Operations** - `/api/v1/claim/*`
- **Blockchain** - `/api/v1/blockchain/*`

## üìã Prerequisites

- **Node.js** >= 18.0.0
- **MongoDB** >= 4.4
- **npm** or **yarn**

## üõ†Ô∏è Installation

### 1. Clone the repository
```bash
git clone <repository-url>
cd GTC-backend
```

### 2. Install dependencies
```bash
npm install
```

### 3. Environment Configuration
Copy the example environment file and configure your settings:

```bash
cp .env.example .env
```

Edit `.env` file with your configuration:

```env
# Server Configuration
NODE_ENV=development
PORT=3000
API_VERSION=v1

# Database
MONGODB_URI=mongodb://localhost:27017/GTC-backend

# Security
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
SESSION_SECRET=your-super-secret-session-key-change-this-in-production
BCRYPT_ROUNDS=12

# Admin Configuration
ADMIN_EMAIL=admin@GTC-token.com
ADMIN_DEFAULT_PASSWORD=Admin123!@#

# Blockchain Configuration
BSC_RPC_URL=https://bsc-dataseed.binance.org/
BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545/
NETWORK=testnet
CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
PRIVATE_KEY=your-private-key-for-admin-transactions

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
CLAIM_RATE_LIMIT_WINDOW_MS=3600000
CLAIM_RATE_LIMIT_MAX_REQUESTS=10

# CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
```

### 4. Database Setup
Make sure MongoDB is running, then create the default admin user:

```bash
node src/scripts/createDefaultAdmin.js
```

### 5. Start the server

**Development:**
```bash
npm run dev
```

**Production:**
```bash
npm start
```

The server will start on `http://localhost:3000` (or your configured PORT).

## üìö API Documentation

### Authentication

#### Get Authentication Message
```http
GET /api/v1/auth/message/:walletAddress
```

Returns a message for wallet signature authentication.

#### Wallet Authentication
```http
POST /api/v1/auth/wallet
Content-Type: application/json

{
  "walletAddress": "0x742d35Cc6634C0532925a3b8D23a40b83d8FA16F",
  "signature": "0x...",
  "message": "Welcome to GTC Token Platform!..."
}
```

#### Admin Login
```http
POST /api/v1/auth/admin/login
Content-Type: application/json

{
  "email": "admin@GTC-token.com",
  "password": "Admin123!@#",
  "twoFactorCode": "123456"
}
```

### User Operations

#### Get User Profile
```http
GET /api/v1/user/profile
Authorization: Bearer <jwt_token>
```

#### Get Claim History
```http
GET /api/v1/user/claims?page=1&limit=10
Authorization: Bearer <jwt_token>
```

#### Check Eligibility
```http
GET /api/v1/user/eligibility
Authorization: Bearer <jwt_token>
```

### Claim Operations

#### Self Claim
```http
POST /api/v1/claim/self
Content-Type: application/json
Authorization: Bearer <jwt_token>

{
  "walletAddress": "0x742d35Cc6634C0532925a3b8D23a40b83d8FA16F",
  "amount": "1000000000000000000",
  "signature": "0x...",
  "message": "..."
}
```

#### Admin Claim
```http
POST /api/v1/claim/admin
Content-Type: application/json
Authorization: Bearer <admin_jwt_token>

{
  "walletAddress": "0x742d35Cc6634C0532925a3b8D23a40b83d8FA16F",
  "amount": "1000000000000000000",
  "adminNote": "Manual distribution for presale participant"
}
```

### Admin Operations

#### Dashboard Statistics
```http
GET /api/v1/admin/dashboard
Authorization: Bearer <admin_jwt_token>
```

#### User Management
```http
GET /api/v1/admin/users?page=1&limit=20&search=0x742d
Authorization: Bearer <admin_jwt_token>
```

#### Create Merkle Tree
```http
POST /api/v1/admin/merkle-trees
Content-Type: application/json
Authorization: Bearer <admin_jwt_token>

{
  "name": "Phase 1 Distribution",
  "description": "Initial token distribution for early supporters",
  "data": [
    {
      "walletAddress": "0x742d35Cc6634C0532925a3b8D23a40b83d8FA16F",
      "amount": "1000000000000000000"
    }
  ]
}
```

### Blockchain Operations

#### Get Network Info
```http
GET /api/v1/blockchain/network
```

#### Get Wallet Balance
```http
GET /api/v1/blockchain/balance/0x742d35Cc6634C0532925a3b8D23a40b83d8FA16F
```

#### Process Pending Claims (Admin Only)
```http
POST /api/v1/blockchain/process-claims
Authorization: Bearer <admin_jwt_token>
```

## üîß Scripts

### Create Default Admin
```bash
node src/scripts/createDefaultAdmin.js
```

### Import Merkle Tree from CSV/JSON
```bash
node src/scripts/importMerkleTree.js allocations.csv "Phase 1" "Description" admin@GTC-token.com
```

**CSV Format:**
```csv
walletAddress,amount
0x742d35Cc6634C0532925a3b8D23a40b83d8FA16F,1000000000000000000
0x8ba1f109551bD432803012645Hac136c22C12345,2000000000000000000
```

**JSON Format:**
```json
[
  {
    "walletAddress": "0x742d35Cc6634C0532925a3b8D23a40b83d8FA16F",
    "amount": "1000000000000000000"
  }
]
```

## üîí Security

### Rate Limiting
- **API Endpoints**: 100 requests per 15 minutes per IP
- **Authentication**: 5 attempts per 15 minutes per IP
- **Claims**: 10 claims per hour per IP, 1 claim per 24 hours per user

### Authentication
- **Users**: Wallet signature-based authentication
- **Admins**: Email/password + optional 2FA

### Data Protection
- All sensitive data is encrypted
- No private keys stored on server
- Secure session management
- Input validation and sanitization
- HTTPS enforced in production

## üåê Deployment

### Environment Variables for Production
```env
NODE_ENV=production
PORT=443
MONGODB_URI=mongodb://your-production-db/GTC-backend
JWT_SECRET=your-production-secret
SSL_KEY_PATH=/path/to/ssl/private.key
SSL_CERT_PATH=/path/to/ssl/certificate.crt
```

### Docker Deployment (Optional)
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY src ./src
EXPOSE 3000
CMD ["npm", "start"]
```

### Production Checklist
- [ ] Change default admin password
- [ ] Enable 2FA for all admin accounts
- [ ] Configure proper MongoDB connection with authentication
- [ ] Set up SSL/TLS certificates
- [ ] Configure firewall rules
- [ ] Set up monitoring and logging
- [ ] Configure backup strategy
- [ ] Set strong JWT secrets
- [ ] Configure proper CORS origins
- [ ] Set up rate limiting
- [ ] Configure environment variables
- [ ] Test all endpoints
- [ ] Set up error monitoring (e.g., Sentry)

## üìä Monitoring

### Health Check
```http
GET /health
```

### Logs
Logs are stored in the `logs/` directory:
- `error.log` - Error level logs
- `combined.log` - All logs

### Log Categories
- **Security**: Authentication, authorization, suspicious activities
- **Admin**: Administrative actions
- **Claim**: Token claim operations
- **Blockchain**: Smart contract interactions
- **Audit**: All significant operations

## üß™ Testing

### Run Tests
```bash
npm test
```

### Run Tests in Watch Mode
```bash
npm run test:watch
```

### Linting
```bash
npm run lint
npm run lint:fix
```

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests for new functionality
5. Run linting and tests
6. Submit a pull request

## üìù API Response Format

### Success Response
```json
{
  "success": true,
  "data": {
    // Response data
  }
}
```

### Error Response
```json
{
  "success": false,
  "error": "Error message",
  "details": [
    // Validation errors if applicable
  ]
}
```

### Pagination Response
```json
{
  "success": true,
  "data": {
    "items": [],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 100,
      "pages": 5
    }
  }
}
```

## üîó Related Documentation

- [Smart Contract Documentation](./docs/smart-contract.md)
- [API Reference](./docs/api-reference.md)
- [Security Guidelines](./docs/security.md)
- [Deployment Guide](./docs/deployment.md)

## ‚ö†Ô∏è Important Notes

1. **Never store private keys on the server** - The backend only manages proofs and metadata
2. **Change default passwords** - Always change default admin credentials in production
3. **Enable 2FA** - Two-factor authentication is strongly recommended for admin accounts
4. **Regular backups** - Implement regular database backups
5. **Monitor logs** - Regularly check logs for suspicious activities
6. **Update dependencies** - Keep all dependencies updated for security

## üìû Support

For technical support or questions:
- Email: support@GTC-token.com
- Documentation: [Link to docs]
- Issues: [GitHub Issues]

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## Persian

# ÿ®⁄©‚ÄåÿßŸÜÿØ ÿ™Ÿà⁄©ŸÜ ⁄Øÿ±€åŸÜ ⁄©ŸÜÿØŸÑ (GCT)

€å⁄© API ÿ®⁄©‚ÄåÿßŸÜÿØ ÿßŸÖŸÜ Ÿà ŸÖŸÇ€åÿßÿ≥‚ÄåŸæÿ∞€åÿ± ÿ®ÿ±ÿß€å ŸæŸÑÿ™ŸÅÿ±ŸÖ ÿ™Ÿà⁄©ŸÜ ⁄Øÿ±€åŸÜ ⁄©ŸÜÿØŸÑ ⁄©Ÿá ÿ®ÿß Express.js Ÿà MongoDB ÿ≥ÿßÿÆÿ™Ÿá ÿ¥ÿØŸá ÿßÿ≥ÿ™. ÿß€åŸÜ ÿ®⁄©‚ÄåÿßŸÜÿØ ÿßÿ≤ ŸÖÿØ€åÿ±€åÿ™ claim ÿ™Ÿà⁄©ŸÜÿå ÿ™Ÿàÿ≤€åÿπ Merkle treeÿå ŸæŸÜŸÑ ÿßÿØŸÖ€åŸÜ Ÿà €å⁄©Ÿæÿßÿ±⁄Ü⁄Ø€å ÿ®ÿß ÿ®ŸÑÿß⁄©‚Äå⁄Ü€åŸÜ BSC Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ€å ŸÖ€å‚Äå⁄©ŸÜÿØ.

## üöÄ Ÿà€å⁄ò⁄Ø€å‚ÄåŸáÿß

### Ÿà€å⁄ò⁄Ø€å‚ÄåŸáÿß€å ÿßÿµŸÑ€å
- **ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™ ÿßŸÖŸÜ ⁄©ÿßÿ±ÿ®ÿ±ÿßŸÜ** - ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™ ŸÖÿ®ÿ™ŸÜ€å ÿ®ÿ± ⁄©€åŸÅ ŸæŸàŸÑ ÿ®ÿß ÿ™ÿ£€å€åÿØ ÿßŸÖÿ∂ÿß
- **ÿ≥€åÿ≥ÿ™ŸÖ ŸÖÿØ€åÿ±€åÿ™ ÿßÿØŸÖ€åŸÜ** - ⁄©ŸÜÿ™ÿ±ŸÑ ÿØÿ≥ÿ™ÿ±ÿ≥€å ŸÖÿ®ÿ™ŸÜ€å ÿ®ÿ± ŸÜŸÇÿ¥ ÿ®ÿß Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ€å 2FA
- **ÿ≥€åÿ≥ÿ™ŸÖ Claim ÿ™Ÿà⁄©ŸÜ** - ŸÇÿßÿ®ŸÑ€åÿ™ ÿÆŸàÿØ-claim Ÿà ÿßÿØŸÖ€åŸÜ-claim
- **ÿ™Ÿàÿ≤€åÿπ Merkle Tree** - ÿ™Ÿàÿ≤€åÿπ ⁄©ÿßÿ±ÿ¢ŸÖÿØ ÿ™Ÿà⁄©ŸÜ ÿ®ÿß ÿßÿ´ÿ®ÿßÿ™‚ÄåŸáÿß€å ÿ±ŸÖÿ≤ŸÜ⁄Øÿßÿ±€å
- **€å⁄©Ÿæÿßÿ±⁄Ü⁄Ø€å ÿ®ŸÑÿß⁄©‚Äå⁄Ü€åŸÜ** - €å⁄©Ÿæÿßÿ±⁄Ü⁄Ø€å ÿ¥ÿ®⁄©Ÿá BSC ÿ®ÿ±ÿß€å ÿ™ÿπÿßŸÖŸÑ ÿ®ÿß ŸÇÿ±ÿßÿ±ÿØÿßÿØ ŸáŸàÿ¥ŸÖŸÜÿØ
- **ŸÖÿ≠ÿØŸàÿØ€åÿ™ ŸÜÿ±ÿÆ** - ŸÖÿ≠ÿßŸÅÿ∏ÿ™ ÿØÿ± ÿ®ÿ±ÿßÿ®ÿ± ÿ≥Ÿàÿ°ÿßÿ≥ÿ™ŸÅÿßÿØŸá Ÿà ÿ≠ŸÖŸÑÿßÿ™ DDoS
- **ÿ´ÿ®ÿ™ ŸàŸÇÿß€åÿπ ÿ¨ÿßŸÖÿπ** - ÿ´ÿ®ÿ™ ÿßŸÖŸÜ€åÿ™ Ÿà ŸÖÿ≥€åÿ± ÿ≠ÿ≥ÿßÿ®ÿ±ÿ≥€å
- **ÿßÿπÿ™ÿ®ÿßÿ±ÿ≥ŸÜÿ¨€å Ÿàÿ±ŸàÿØ€å** - ÿ¨ŸÑŸà⁄Ø€åÿ±€å ÿßÿ≤ ÿ≠ŸÖŸÑÿßÿ™ XSS Ÿà injection

### Ÿà€å⁄ò⁄Ø€å‚ÄåŸáÿß€å ÿßŸÖŸÜ€åÿ™€å
- ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™ ŸÖÿ®ÿ™ŸÜ€å ÿ®ÿ± JWT
- ŸÖÿ≠ÿØŸàÿØ€åÿ™ ŸÜÿ±ÿÆ Ÿà throttling
- ŸÖÿ≠ÿßŸÅÿ∏ÿ™ CORS
- ŸáÿØÿ±Ÿáÿß€å ÿßŸÖŸÜ€åÿ™€å Helmet
- Ÿæÿß⁄©ÿ≥ÿßÿ≤€å Ÿà ÿßÿπÿ™ÿ®ÿßÿ±ÿ≥ŸÜÿ¨€å Ÿàÿ±ŸàÿØ€å
- ŸÖÿØ€åÿ±€åÿ™ ÿ¨ŸÑÿ≥Ÿá
- ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™ ÿØŸà ŸÖÿ±ÿ≠ŸÑŸá‚Äåÿß€å ÿ®ÿ±ÿß€å ÿßÿØŸÖ€åŸÜ‚ÄåŸáÿß
- Ÿáÿ¥ ÿßŸÖŸÜ ÿ±ŸÖÿ≤ ÿπÿ®Ÿàÿ±
- ÿ±ÿØ€åÿßÿ®€å Ÿà ŸÜÿ∏ÿßÿ±ÿ™ IP

### ŸÜŸÇÿßÿ∑ Ÿæÿß€åÿßŸÜ€å API
- **ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™** - `/api/v1/auth/*`
- **ŸÖÿØ€åÿ±€åÿ™ ⁄©ÿßÿ±ÿ®ÿ±** - `/api/v1/user/*`
- **ŸæŸÜŸÑ ÿßÿØŸÖ€åŸÜ** - `/api/v1/admin/*`
- **ÿπŸÖŸÑ€åÿßÿ™ Claim** - `/api/v1/claim/*`
- **ÿ®ŸÑÿß⁄©‚Äå⁄Ü€åŸÜ** - `/api/v1/blockchain/*`

## üìã Ÿæ€åÿ¥‚ÄåŸÜ€åÿßÿ≤Ÿáÿß

- **Node.js** >= 18.0.0
- **MongoDB** >= 4.4
- **npm** €åÿß **yarn**

## üõ†Ô∏è ŸÜÿµÿ®

### 1. ⁄©ŸÑŸàŸÜ ⁄©ÿ±ÿØŸÜ ŸÖÿÆÿ≤ŸÜ
```bash
git clone <repository-url>
cd gct-backend
```

### 2. ŸÜÿµÿ® Ÿàÿßÿ®ÿ≥ÿ™⁄Ø€å‚ÄåŸáÿß
```bash
npm install
```

### 3. Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ŸÖÿ≠€åÿ∑
ŸÅÿß€åŸÑ ŸÜŸÖŸàŸÜŸá ŸÖÿ≠€åÿ∑ ÿ±ÿß ⁄©Ÿæ€å ⁄©ÿ±ÿØŸá Ÿà ÿ™ŸÜÿ∏€åŸÖÿßÿ™ ÿÆŸàÿØ ÿ±ÿß Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ⁄©ŸÜ€åÿØ:

```bash
cp .env.example .env
```

ŸÅÿß€åŸÑ `.env` ÿ±ÿß ÿ®ÿß Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿÆŸàÿØ Ÿà€åÿ±ÿß€åÿ¥ ⁄©ŸÜ€åÿØ:

```env
# Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿ≥ÿ±Ÿàÿ±
NODE_ENV=development
PORT=3000
API_VERSION=v1

# Ÿæÿß€å⁄ØÿßŸá ÿØÿßÿØŸá
MONGODB_URI=mongodb://localhost:27017/gct-backend

# ÿßŸÖŸÜ€åÿ™
JWT_SECRET=⁄©ŸÑ€åÿØ-ŸÅŸàŸÇ-ŸÖÿ≠ÿ±ŸÖÿßŸÜŸá-jwt-ÿÆŸàÿØ-ÿ±ÿß-ÿØÿ±-ÿ™ŸàŸÑ€åÿØ-ÿ™ÿ∫€å€åÿ±-ÿØŸá€åÿØ
SESSION_SECRET=⁄©ŸÑ€åÿØ-ŸÅŸàŸÇ-ŸÖÿ≠ÿ±ŸÖÿßŸÜŸá-ÿ¨ŸÑÿ≥Ÿá-ÿÆŸàÿØ-ÿ±ÿß-ÿØÿ±-ÿ™ŸàŸÑ€åÿØ-ÿ™ÿ∫€å€åÿ±-ÿØŸá€åÿØ
BCRYPT_ROUNDS=12

# Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿßÿØŸÖ€åŸÜ
ADMIN_EMAIL=admin@gct-token.com
ADMIN_DEFAULT_PASSWORD=Admin123!@#

# Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿ®ŸÑÿß⁄©‚Äå⁄Ü€åŸÜ
BSC_RPC_URL=https://bsc-dataseed.binance.org/
BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545/
NETWORK=testnet
CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
PRIVATE_KEY=⁄©ŸÑ€åÿØ-ÿÆÿµŸàÿµ€å-ÿ¥ŸÖÿß-ÿ®ÿ±ÿß€å-ÿ™ÿ±ÿß⁄©ŸÜÿ¥‚ÄåŸáÿß€å-ÿßÿØŸÖ€åŸÜ

# ŸÖÿ≠ÿØŸàÿØ€åÿ™ ŸÜÿ±ÿÆ
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
CLAIM_RATE_LIMIT_WINDOW_MS=3600000
CLAIM_RATE_LIMIT_MAX_REQUESTS=10

# CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
```

### 4. ÿ±ÿßŸá‚ÄåÿßŸÜÿØÿßÿ≤€å Ÿæÿß€å⁄ØÿßŸá ÿØÿßÿØŸá
ŸÖÿ∑ŸÖÿ¶ŸÜ ÿ¥Ÿà€åÿØ ⁄©Ÿá MongoDB ÿØÿ± ÿ≠ÿßŸÑ ÿßÿ¨ÿ±ÿß ÿßÿ≥ÿ™ÿå ÿ≥Ÿæÿ≥ ⁄©ÿßÿ±ÿ®ÿ± ÿßÿØŸÖ€åŸÜ Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂ ÿ±ÿß ÿß€åÿ¨ÿßÿØ ⁄©ŸÜ€åÿØ:

```bash
node src/scripts/createDefaultAdmin.js
```

### 5. ÿ¥ÿ±Ÿàÿπ ÿ≥ÿ±Ÿàÿ±

**ÿ™Ÿàÿ≥ÿπŸá:**
```bash
npm run dev
```

**ÿ™ŸàŸÑ€åÿØ:**
```bash
npm start
```

ÿ≥ÿ±Ÿàÿ± ÿ±Ÿà€å `http://localhost:3000` (€åÿß PORT Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿ¥ÿØŸá ÿ¥ŸÖÿß) ÿ¥ÿ±Ÿàÿπ ÿÆŸàÿßŸáÿØ ÿ¥ÿØ.

## üìö ŸÖÿ≥ÿ™ŸÜÿØÿßÿ™ API

### ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™

#### ÿØÿ±€åÿßŸÅÿ™ Ÿæ€åÿßŸÖ ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™
```http
GET /api/v1/auth/message/:walletAddress
```

Ÿæ€åÿßŸÖ€å ÿ®ÿ±ÿß€å ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™ ÿßŸÖÿ∂ÿß€å ⁄©€åŸÅ ŸæŸàŸÑ ÿ®ÿßÿ≤ŸÖ€å‚Äå⁄Øÿ±ÿØÿßŸÜÿØ.

#### ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™ ⁄©€åŸÅ ŸæŸàŸÑ
```http
POST /api/v1/auth/wallet
Content-Type: application/json

{
  "walletAddress": "0x742d35Cc6634C0532925a3b8D23a40b83d8FA16F",
  "signature": "0x...",
  "message": "ÿÆŸàÿ¥ ÿ¢ŸÖÿØ€åÿØ ÿ®Ÿá ŸæŸÑÿ™ŸÅÿ±ŸÖ ÿ™Ÿà⁄©ŸÜ GCT!..."
}
```

#### Ÿàÿ±ŸàÿØ ÿßÿØŸÖ€åŸÜ
```http
POST /api/v1/auth/admin/login
Content-Type: application/json

{
  "email": "admin@gct-token.com",
  "password": "Admin123!@#",
  "twoFactorCode": "123456"
}
```

## üîß ÿßÿ≥⁄©ÿ±€åŸæÿ™‚ÄåŸáÿß

### ÿß€åÿ¨ÿßÿØ ÿßÿØŸÖ€åŸÜ Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂
```bash
node src/scripts/createDefaultAdmin.js
```

### Ÿàÿßÿ±ÿØ ⁄©ÿ±ÿØŸÜ Merkle Tree ÿßÿ≤ CSV/JSON
```bash
node src/scripts/importMerkleTree.js allocations.csv "ŸÅÿßÿ≤ 1" "ÿ™Ÿàÿ∂€åÿ≠ÿßÿ™" admin@gct-token.com
```

**ŸÅÿ±ŸÖÿ™ CSV:**
```csv
walletAddress,amount
0x742d35Cc6634C0532925a3b8D23a40b83d8FA16F,1000000000000000000
0x8ba1f109551bD432803012645Hac136c22C12345,2000000000000000000
```

## üîí ÿßŸÖŸÜ€åÿ™

### ŸÖÿ≠ÿØŸàÿØ€åÿ™ ŸÜÿ±ÿÆ
- **ŸÜŸÇÿßÿ∑ Ÿæÿß€åÿßŸÜ€å API**: 100 ÿØÿ±ÿÆŸàÿßÿ≥ÿ™ ÿØÿ± 15 ÿØŸÇ€åŸÇŸá ÿ®Ÿá ÿßÿ≤ÿß€å Ÿáÿ± IP
- **ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™**: 5 ÿ™ŸÑÿßÿ¥ ÿØÿ± 15 ÿØŸÇ€åŸÇŸá ÿ®Ÿá ÿßÿ≤ÿß€å Ÿáÿ± IP
- **Claims**: 10 claim ÿØÿ± ÿ≥ÿßÿπÿ™ ÿ®Ÿá ÿßÿ≤ÿß€å Ÿáÿ± IPÿå 1 claim ÿØÿ± 24 ÿ≥ÿßÿπÿ™ ÿ®Ÿá ÿßÿ≤ÿß€å Ÿáÿ± ⁄©ÿßÿ±ÿ®ÿ±

### ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™
- **⁄©ÿßÿ±ÿ®ÿ±ÿßŸÜ**: ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™ ŸÖÿ®ÿ™ŸÜ€å ÿ®ÿ± ÿßŸÖÿ∂ÿß€å ⁄©€åŸÅ ŸæŸàŸÑ
- **ÿßÿØŸÖ€åŸÜ‚ÄåŸáÿß**: ÿß€åŸÖ€åŸÑ/ÿ±ŸÖÿ≤ ÿπÿ®Ÿàÿ± + 2FA ÿßÿÆÿ™€åÿßÿ±€å

### ŸÖÿ≠ÿßŸÅÿ∏ÿ™ ÿØÿßÿØŸá‚ÄåŸáÿß
- ÿ™ŸÖÿßŸÖ ÿØÿßÿØŸá‚ÄåŸáÿß€å ÿ≠ÿ≥ÿßÿ≥ ÿ±ŸÖÿ≤ŸÜ⁄Øÿßÿ±€å ÿ¥ÿØŸá‚ÄåÿßŸÜÿØ
- Ÿá€å⁄Ü ⁄©ŸÑ€åÿØ ÿÆÿµŸàÿµ€å ÿ±Ÿà€å ÿ≥ÿ±Ÿàÿ± ÿ∞ÿÆ€åÿ±Ÿá ŸÜŸÖ€å‚Äåÿ¥ŸàÿØ
- ŸÖÿØ€åÿ±€åÿ™ ÿßŸÖŸÜ ÿ¨ŸÑÿ≥Ÿá
- ÿßÿπÿ™ÿ®ÿßÿ±ÿ≥ŸÜÿ¨€å Ÿà Ÿæÿß⁄©ÿ≥ÿßÿ≤€å Ÿàÿ±ŸàÿØ€å
- HTTPS ÿßÿ¨ÿ®ÿßÿ±€å ÿØÿ± ÿ™ŸàŸÑ€åÿØ

## üåê ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ±

### ŸÖÿ™ÿ∫€åÿ±Ÿáÿß€å ŸÖÿ≠€åÿ∑ ÿ®ÿ±ÿß€å ÿ™ŸàŸÑ€åÿØ
```env
NODE_ENV=production
PORT=443
MONGODB_URI=mongodb://your-production-db/gct-backend
JWT_SECRET=ÿ±ŸÖÿ≤-ÿ™ŸàŸÑ€åÿØ-ÿ¥ŸÖÿß
SSL_KEY_PATH=/path/to/ssl/private.key
SSL_CERT_PATH=/path/to/ssl/certificate.crt
```

### ⁄Ü⁄©‚ÄåŸÑ€åÿ≥ÿ™ ÿ™ŸàŸÑ€åÿØ
- [ ] ÿ™ÿ∫€å€åÿ± ÿ±ŸÖÿ≤ ÿπÿ®Ÿàÿ± ÿßÿØŸÖ€åŸÜ Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂
- [ ] ŸÅÿπÿßŸÑ‚Äåÿ≥ÿßÿ≤€å 2FA ÿ®ÿ±ÿß€å ÿ™ŸÖÿßŸÖ ÿ≠ÿ≥ÿßÿ®‚ÄåŸáÿß€å ÿßÿØŸÖ€åŸÜ
- [ ] Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿßÿ™ÿµÿßŸÑ ŸÖŸÜÿßÿ≥ÿ® MongoDB ÿ®ÿß ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™
- [ ] ÿ™ŸÜÿ∏€åŸÖ ⁄ØŸàÿßŸá€åŸÜÿßŸÖŸá‚ÄåŸáÿß€å SSL/TLS
- [ ] Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ŸÇŸàÿßŸÜ€åŸÜ ŸÅÿß€åÿ±ŸàÿßŸÑ
- [ ] ÿ±ÿßŸá‚ÄåÿßŸÜÿØÿßÿ≤€å ŸÜÿ∏ÿßÿ±ÿ™ Ÿà ÿ´ÿ®ÿ™ ŸàŸÇÿß€åÿπ
- [ ] Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿßÿ≥ÿ™ÿ±ÿßÿ™⁄ò€å Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ‚Äå⁄Ø€åÿ±€å
- [ ] ÿ™ŸÜÿ∏€åŸÖ ÿ±ŸÖÿ≤Ÿáÿß€å ŸÇŸà€å JWT
- [ ] Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ŸÖŸÜÿßÿ®ÿπ ŸÖŸÜÿßÿ≥ÿ® CORS
- [ ] ÿ±ÿßŸá‚ÄåÿßŸÜÿØÿßÿ≤€å ŸÖÿ≠ÿØŸàÿØ€åÿ™ ŸÜÿ±ÿÆ
- [ ] Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ŸÖÿ™ÿ∫€åÿ±Ÿáÿß€å ŸÖÿ≠€åÿ∑
- [ ] ÿ™ÿ≥ÿ™ ÿ™ŸÖÿßŸÖ ŸÜŸÇÿßÿ∑ Ÿæÿß€åÿßŸÜ€å
- [ ] ÿ±ÿßŸá‚ÄåÿßŸÜÿØÿßÿ≤€å ŸÜÿ∏ÿßÿ±ÿ™ ÿÆÿ∑ÿß

## üìä ŸÜÿ∏ÿßÿ±ÿ™

### ÿ®ÿ±ÿ±ÿ≥€å ÿ≥ŸÑÿßŸÖÿ™
```http
GET /health
```

### ŸàŸÇÿß€åÿπ
ŸàŸÇÿß€åÿπ ÿØÿ± ÿØÿß€åÿ±⁄©ÿ™Ÿàÿ±€å `logs/` ÿ∞ÿÆ€åÿ±Ÿá ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ:
- `error.log` - ŸàŸÇÿß€åÿπ ÿ≥ÿ∑ÿ≠ ÿÆÿ∑ÿß
- `combined.log` - ÿ™ŸÖÿßŸÖ ŸàŸÇÿß€åÿπ

### ÿØÿ≥ÿ™Ÿá‚Äåÿ®ŸÜÿØ€å ŸàŸÇÿß€åÿπ
- **ÿßŸÖŸÜ€åÿ™**: ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™ÿå ŸÖÿ¨Ÿàÿ≤ÿå ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ŸÖÿ¥⁄©Ÿà⁄©
- **ÿßÿØŸÖ€åŸÜ**: ÿßŸÇÿØÿßŸÖÿßÿ™ ÿßÿØÿßÿ±€å
- **Claim**: ÿπŸÖŸÑ€åÿßÿ™ claim ÿ™Ÿà⁄©ŸÜ
- **ÿ®ŸÑÿß⁄©‚Äå⁄Ü€åŸÜ**: ÿ™ÿπÿßŸÖŸÑÿßÿ™ ŸÇÿ±ÿßÿ±ÿØÿßÿØ ŸáŸàÿ¥ŸÖŸÜÿØ
- **ÿ≠ÿ≥ÿßÿ®ÿ±ÿ≥€å**: ÿ™ŸÖÿßŸÖ ÿπŸÖŸÑ€åÿßÿ™ ŸÖŸáŸÖ

## üß™ ÿ™ÿ≥ÿ™

### ÿßÿ¨ÿ±ÿß€å ÿ™ÿ≥ÿ™‚ÄåŸáÿß
```bash
npm test
```

### ÿßÿ¨ÿ±ÿß€å ÿ™ÿ≥ÿ™‚ÄåŸáÿß ÿØÿ± ÿ≠ÿßŸÑÿ™ ŸÜÿ∏ÿßÿ±ÿ™
```bash
npm run test:watch
```

### Linting
```bash
npm run lint
npm run lint:fix
```

## ü§ù ŸÖÿ¥ÿßÿ±⁄©ÿ™

1. ŸÖÿÆÿ≤ŸÜ ÿ±ÿß fork ⁄©ŸÜ€åÿØ
2. €å⁄© ÿ¥ÿßÿÆŸá Ÿà€å⁄ò⁄Ø€å ÿß€åÿ¨ÿßÿØ ⁄©ŸÜ€åÿØ
3. ÿ™ÿ∫€å€åÿ±ÿßÿ™ ÿÆŸàÿØ ÿ±ÿß ÿßÿπŸÖÿßŸÑ ⁄©ŸÜ€åÿØ
4. ÿ™ÿ≥ÿ™‚ÄåŸáÿß€å€å ÿ®ÿ±ÿß€å ŸÇÿßÿ®ŸÑ€åÿ™ ÿ¨ÿØ€åÿØ ÿßÿ∂ÿßŸÅŸá ⁄©ŸÜ€åÿØ
5. linting Ÿà ÿ™ÿ≥ÿ™‚ÄåŸáÿß ÿ±ÿß ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ
6. ÿØÿ±ÿÆŸàÿßÿ≥ÿ™ pull ÿßÿ±ÿ≥ÿßŸÑ ⁄©ŸÜ€åÿØ

## üìù ŸÅÿ±ŸÖÿ™ Ÿæÿßÿ≥ÿÆ API

### Ÿæÿßÿ≥ÿÆ ŸÖŸàŸÅŸÇ€åÿ™‚Äåÿ¢ŸÖ€åÿ≤
```json
{
  "success": true,
  "data": {
    // ÿØÿßÿØŸá‚ÄåŸáÿß€å Ÿæÿßÿ≥ÿÆ
  }
}
```

### Ÿæÿßÿ≥ÿÆ ÿÆÿ∑ÿß
```json
{
  "success": false,
  "error": "Ÿæ€åÿßŸÖ ÿÆÿ∑ÿß",
  "details": [
    // ÿÆÿ∑ÿßŸáÿß€å ÿßÿπÿ™ÿ®ÿßÿ±ÿ≥ŸÜÿ¨€å ÿØÿ± ÿµŸàÿ±ÿ™ Ÿàÿ¨ŸàÿØ
  ]
}
```

## üîó ŸÖÿ≥ÿ™ŸÜÿØÿßÿ™ ŸÖÿ±ÿ™ÿ®ÿ∑

- [ŸÖÿ≥ÿ™ŸÜÿØÿßÿ™ ŸÇÿ±ÿßÿ±ÿØÿßÿØ ŸáŸàÿ¥ŸÖŸÜÿØ](./docs/smart-contract.md)
- [ŸÖÿ±ÿ¨ÿπ API](./docs/API.md)
- [ÿ±ÿßŸáŸÜŸÖÿß€å ÿßŸÖŸÜ€åÿ™](./docs/security.md)
- [ÿ±ÿßŸáŸÜŸÖÿß€å ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ±](./docs/DEPLOYMENT.md)

## ‚ö†Ô∏è ŸÜ⁄©ÿßÿ™ ŸÖŸáŸÖ

1. **Ÿáÿ±⁄Øÿ≤ ⁄©ŸÑ€åÿØŸáÿß€å ÿÆÿµŸàÿµ€å ÿ±ÿß ÿ±Ÿà€å ÿ≥ÿ±Ÿàÿ± ÿ∞ÿÆ€åÿ±Ÿá ŸÜ⁄©ŸÜ€åÿØ** - ÿ®⁄©‚ÄåÿßŸÜÿØ ŸÅŸÇÿ∑ proof Ÿáÿß Ÿà metadata ÿ±ÿß ŸÖÿØ€åÿ±€åÿ™ ŸÖ€å‚Äå⁄©ŸÜÿØ
2. **ÿ±ŸÖÿ≤Ÿáÿß€å ÿπÿ®Ÿàÿ± Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂ ÿ±ÿß ÿ™ÿ∫€å€åÿ± ÿØŸá€åÿØ** - ŸáŸÖ€åÿ¥Ÿá ÿßÿπÿ™ÿ®ÿßÿ±ŸÜÿßŸÖŸá‚ÄåŸáÿß€å ÿßÿØŸÖ€åŸÜ Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂ ÿ±ÿß ÿØÿ± ÿ™ŸàŸÑ€åÿØ ÿ™ÿ∫€å€åÿ± ÿØŸá€åÿØ
3. **2FA ÿ±ÿß ŸÅÿπÿßŸÑ ⁄©ŸÜ€åÿØ** - ÿßÿ≠ÿ±ÿßÿ≤ ŸáŸà€åÿ™ ÿØŸà ŸÖÿ±ÿ≠ŸÑŸá‚Äåÿß€å ÿ®ÿ±ÿß€å ÿ≠ÿ≥ÿßÿ®‚ÄåŸáÿß€å ÿßÿØŸÖ€åŸÜ ÿ®Ÿá ÿ¥ÿØÿ™ ÿ™Ÿàÿµ€åŸá ŸÖ€å‚Äåÿ¥ŸàÿØ
4. **Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ‚Äå⁄Ø€åÿ±€å ŸÖŸÜÿ∏ŸÖ** - Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ‚Äå⁄Ø€åÿ±€å ŸÖŸÜÿ∏ŸÖ ÿßÿ≤ Ÿæÿß€å⁄ØÿßŸá ÿØÿßÿØŸá ÿ±ÿß Ÿæ€åÿßÿØŸá‚Äåÿ≥ÿßÿ≤€å ⁄©ŸÜ€åÿØ
5. **ŸÜÿ∏ÿßÿ±ÿ™ ÿ®ÿ± ŸàŸÇÿß€åÿπ** - ÿ®Ÿá ÿ∑Ÿàÿ± ŸÖŸÜÿ∏ŸÖ ŸàŸÇÿß€åÿπ ÿ±ÿß ÿ®ÿ±ÿß€å ŸÅÿπÿßŸÑ€åÿ™‚ÄåŸáÿß€å ŸÖÿ¥⁄©Ÿà⁄© ÿ®ÿ±ÿ±ÿ≥€å ⁄©ŸÜ€åÿØ
6. **ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ÿ±ÿ≥ÿßŸÜ€å Ÿàÿßÿ®ÿ≥ÿ™⁄Ø€å‚ÄåŸáÿß** - ÿ™ŸÖÿßŸÖ Ÿàÿßÿ®ÿ≥ÿ™⁄Ø€å‚ÄåŸáÿß ÿ±ÿß ÿ®ÿ±ÿß€å ÿßŸÖŸÜ€åÿ™ ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ ŸÜ⁄ØŸá ÿØÿßÿ±€åÿØ

## üìû Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ€å

ÿ®ÿ±ÿß€å Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ€å ŸÅŸÜ€å €åÿß ÿ≥ÿ§ÿßŸÑÿßÿ™:
- ÿß€åŸÖ€åŸÑ: support@gct-token.com
- ŸÖÿ≥ÿ™ŸÜÿØÿßÿ™: [ŸÑ€åŸÜ⁄© ÿ®Ÿá ŸÖÿ≥ÿ™ŸÜÿØÿßÿ™]
- ŸÖÿ≥ÿßÿ¶ŸÑ: [GitHub Issues]

## üìÑ ŸÖÿ¨Ÿàÿ≤

ÿß€åŸÜ Ÿæÿ±Ÿà⁄òŸá ÿ™ÿ≠ÿ™ ŸÖÿ¨Ÿàÿ≤ MIT ŸÖŸÜÿ™ÿ¥ÿ± ÿ¥ÿØŸá ÿßÿ≥ÿ™ - ŸÅÿß€åŸÑ [LICENSE](LICENSE) ÿ±ÿß ÿ®ÿ±ÿß€å ÿ¨ÿ≤ÿ¶€åÿßÿ™ ŸÖÿ¥ÿßŸáÿØŸá ⁄©ŸÜ€åÿØ.

---

**‚ö†Ô∏è ÿßÿ∑ŸÑÿßÿπ€åŸá ÿßŸÖŸÜ€åÿ™€å**: ÿß€åŸÜ ÿ®⁄©‚ÄåÿßŸÜÿØ ÿπŸÖŸÑ€åÿßÿ™ ŸÖÿßŸÑ€å ÿ±ÿß ŸÖÿØ€åÿ±€åÿ™ ŸÖ€å‚Äå⁄©ŸÜÿØ. ŸáŸÖ€åÿ¥Ÿá ÿ®Ÿáÿ™ÿ±€åŸÜ ÿ¥€åŸàŸá‚ÄåŸáÿß€å ÿßŸÖŸÜ€åÿ™€å ÿ±ÿß ÿØŸÜÿ®ÿßŸÑ ⁄©ŸÜ€åÿØÿå ÿ™ÿ≥ÿ™ ⁄©ÿßŸÖŸÑ ÿßŸÜÿ¨ÿßŸÖ ÿØŸá€åÿØ Ÿà ŸÇÿ®ŸÑ ÿßÿ≤ ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ± ÿØÿ± ÿ™ŸàŸÑ€åÿØÿå ÿ≠ÿ≥ÿßÿ®ÿ±ÿ≥€å ÿßŸÖŸÜ€åÿ™€å ÿ≠ÿ±ŸÅŸá‚Äåÿß€å ÿ±ÿß ÿØÿ± ŸÜÿ∏ÿ± ÿ®⁄Ø€åÿ±€åÿØ.